"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/search";
exports.ids = ["pages/api/search"];
exports.modules = {

/***/ "(api-node)/./node_modules/.pnpm/next@15.3.4_react-dom@19.1.0_react@19.1.0__react@19.1.0/node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fsearch&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Csearch.js&middlewareConfigBase64=e30%3D!":
/*!*********************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/.pnpm/next@15.3.4_react-dom@19.1.0_react@19.1.0__react@19.1.0/node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fsearch&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Csearch.js&middlewareConfigBase64=e30%3D! ***!
  \*********************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   routeModule: () => (/* binding */ routeModule)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/route-modules/pages-api/module.compiled */ \"(api-node)/./node_modules/.pnpm/next@15.3.4_react-dom@19.1.0_react@19.1.0__react@19.1.0/node_modules/next/dist/server/route-modules/pages-api/module.compiled.js\");\n/* harmony import */ var next_dist_server_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/route-kind */ \"(api-node)/./node_modules/.pnpm/next@15.3.4_react-dom@19.1.0_react@19.1.0__react@19.1.0/node_modules/next/dist/server/route-kind.js\");\n/* harmony import */ var next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/build/templates/helpers */ \"(api-node)/./node_modules/.pnpm/next@15.3.4_react-dom@19.1.0_react@19.1.0__react@19.1.0/node_modules/next/dist/build/templates/helpers.js\");\n/* harmony import */ var _pages_api_search_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./pages\\api\\search.js */ \"(api-node)/./pages/api/search.js\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_pages_api_search_js__WEBPACK_IMPORTED_MODULE_3__]);\n_pages_api_search_js__WEBPACK_IMPORTED_MODULE_3__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\n\n// Import the userland code.\n\n// Re-export the handler (should be the default export).\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_search_js__WEBPACK_IMPORTED_MODULE_3__, 'default'));\n// Re-export config.\nconst config = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_search_js__WEBPACK_IMPORTED_MODULE_3__, 'config');\n// Create and export the route module that will be consumed.\nconst routeModule = new next_dist_server_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__.PagesAPIRouteModule({\n    definition: {\n        kind: next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.PAGES_API,\n        page: \"/api/search\",\n        pathname: \"/api/search\",\n        // The following aren't used in production.\n        bundlePath: '',\n        filename: ''\n    },\n    userland: _pages_api_search_js__WEBPACK_IMPORTED_MODULE_3__\n});\n\n//# sourceMappingURL=pages-api.js.map\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaS1ub2RlKS8uL25vZGVfbW9kdWxlcy8ucG5wbS9uZXh0QDE1LjMuNF9yZWFjdC1kb21AMTkuMS4wX3JlYWN0QDE5LjEuMF9fcmVhY3RAMTkuMS4wL25vZGVfbW9kdWxlcy9uZXh0L2Rpc3QvYnVpbGQvd2VicGFjay9sb2FkZXJzL25leHQtcm91dGUtbG9hZGVyL2luZGV4LmpzP2tpbmQ9UEFHRVNfQVBJJnBhZ2U9JTJGYXBpJTJGc2VhcmNoJnByZWZlcnJlZFJlZ2lvbj0mYWJzb2x1dGVQYWdlUGF0aD0uJTJGcGFnZXMlNUNhcGklNUNzZWFyY2guanMmbWlkZGxld2FyZUNvbmZpZ0Jhc2U2ND1lMzAlM0QhIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7O0FBQStGO0FBQ3ZDO0FBQ0U7QUFDMUQ7QUFDb0Q7QUFDcEQ7QUFDQSxpRUFBZSx3RUFBSyxDQUFDLGlEQUFRLFlBQVksRUFBQztBQUMxQztBQUNPLGVBQWUsd0VBQUssQ0FBQyxpREFBUTtBQUNwQztBQUNPLHdCQUF3Qix5R0FBbUI7QUFDbEQ7QUFDQSxjQUFjLGtFQUFTO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsWUFBWTtBQUNaLENBQUM7O0FBRUQscUMiLCJzb3VyY2VzIjpbIiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBQYWdlc0FQSVJvdXRlTW9kdWxlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvcm91dGUtbW9kdWxlcy9wYWdlcy1hcGkvbW9kdWxlLmNvbXBpbGVkXCI7XG5pbXBvcnQgeyBSb3V0ZUtpbmQgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9yb3V0ZS1raW5kXCI7XG5pbXBvcnQgeyBob2lzdCB9IGZyb20gXCJuZXh0L2Rpc3QvYnVpbGQvdGVtcGxhdGVzL2hlbHBlcnNcIjtcbi8vIEltcG9ydCB0aGUgdXNlcmxhbmQgY29kZS5cbmltcG9ydCAqIGFzIHVzZXJsYW5kIGZyb20gXCIuL3BhZ2VzXFxcXGFwaVxcXFxzZWFyY2guanNcIjtcbi8vIFJlLWV4cG9ydCB0aGUgaGFuZGxlciAoc2hvdWxkIGJlIHRoZSBkZWZhdWx0IGV4cG9ydCkuXG5leHBvcnQgZGVmYXVsdCBob2lzdCh1c2VybGFuZCwgJ2RlZmF1bHQnKTtcbi8vIFJlLWV4cG9ydCBjb25maWcuXG5leHBvcnQgY29uc3QgY29uZmlnID0gaG9pc3QodXNlcmxhbmQsICdjb25maWcnKTtcbi8vIENyZWF0ZSBhbmQgZXhwb3J0IHRoZSByb3V0ZSBtb2R1bGUgdGhhdCB3aWxsIGJlIGNvbnN1bWVkLlxuZXhwb3J0IGNvbnN0IHJvdXRlTW9kdWxlID0gbmV3IFBhZ2VzQVBJUm91dGVNb2R1bGUoe1xuICAgIGRlZmluaXRpb246IHtcbiAgICAgICAga2luZDogUm91dGVLaW5kLlBBR0VTX0FQSSxcbiAgICAgICAgcGFnZTogXCIvYXBpL3NlYXJjaFwiLFxuICAgICAgICBwYXRobmFtZTogXCIvYXBpL3NlYXJjaFwiLFxuICAgICAgICAvLyBUaGUgZm9sbG93aW5nIGFyZW4ndCB1c2VkIGluIHByb2R1Y3Rpb24uXG4gICAgICAgIGJ1bmRsZVBhdGg6ICcnLFxuICAgICAgICBmaWxlbmFtZTogJydcbiAgICB9LFxuICAgIHVzZXJsYW5kXG59KTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cGFnZXMtYXBpLmpzLm1hcCJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api-node)/./node_modules/.pnpm/next@15.3.4_react-dom@19.1.0_react@19.1.0__react@19.1.0/node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fsearch&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Csearch.js&middlewareConfigBase64=e30%3D!\n");

/***/ }),

/***/ "(api-node)/./pages/api/search.js":
/*!*****************************!*\
  !*** ./pages/api/search.js ***!
  \*****************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ handler)\n/* harmony export */ });\n/* harmony import */ var _utils_prisma__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../utils/prisma */ \"(api-node)/./utils/prisma.js\");\n/* harmony import */ var _utils_quark_api__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../utils/quark-api */ \"(api-node)/./utils/quark-api.js\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_utils_quark_api__WEBPACK_IMPORTED_MODULE_1__]);\n_utils_quark_api__WEBPACK_IMPORTED_MODULE_1__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\n// This function queries the Quark API directly, fetching all pages for a comprehensive search.\nconst searchInApi = async (pdir_fid, cookie, query)=>{\n    if (!cookie) return [];\n    let allFiles = [];\n    let page = 1;\n    let hasMore = true;\n    // Safety break to prevent infinite loops in case of unexpected API behavior.\n    const maxPages = 100; // Corresponds to 5000 files\n    while(hasMore && page <= maxPages){\n        const apiResult = await (0,_utils_quark_api__WEBPACK_IMPORTED_MODULE_1__.getCachedQuarkFiles)(pdir_fid, cookie, page, 'file_name:asc');\n        if (apiResult.status !== 200 || !apiResult.data || !apiResult.data.list) {\n            hasMore = false;\n            break;\n        }\n        allFiles.push(...apiResult.data.list);\n        hasMore = apiResult.data.list.length === 50;\n        page++;\n    }\n    return allFiles.filter((file)=>file.file_name.toLowerCase().includes(query.toLowerCase()));\n};\nasync function handler(req, res) {\n    const { pdir_fid, query } = req.query;\n    const cookie = process.env.QUARK_COOKIE;\n    if (!pdir_fid || !query) {\n        return res.status(400).json({\n            error: 'pdir_fid and query parameters are required.'\n        });\n    }\n    try {\n        // 1. Prioritize searching in the database. It's much faster.\n        const dbResults = await _utils_prisma__WEBPACK_IMPORTED_MODULE_0__[\"default\"].file.findMany({\n            where: {\n                pdir_fid: pdir_fid,\n                file_name: {\n                    contains: query,\n                    mode: 'insensitive'\n                }\n            },\n            orderBy: {\n                file_name: 'asc'\n            },\n            take: 100\n        });\n        // 2. If the database has results, we can trust it's reasonably up-to-date.\n        if (dbResults.length > 0) {\n            return res.status(200).json({\n                status: 200,\n                message: 'OK (from database)',\n                data: {\n                    list: dbResults.map((file)=>({\n                            ...file,\n                            size: file.size.toString()\n                        })),\n                    total: dbResults.length\n                }\n            });\n        }\n        // 3. If DB has no results, it might be because it's not indexed yet.\n        // Fallback to a live API search.\n        const apiResults = await searchInApi(pdir_fid, cookie, query);\n        // 4. Return the API results. This will correctly be an empty array if nothing is found.\n        return res.status(200).json({\n            status: 200,\n            message: 'OK (from API fallback)',\n            data: {\n                list: apiResults,\n                total: apiResults.length\n            }\n        });\n    } catch (error) {\n        console.error('Search API error:', error);\n        res.status(500).json({\n            error: 'An unexpected server error occurred during search.',\n            details: error.message\n        });\n    }\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaS1ub2RlKS8uL3BhZ2VzL2FwaS9zZWFyY2guanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQXdDO0FBQ29CO0FBRTVELCtGQUErRjtBQUMvRixNQUFNRSxjQUFjLE9BQU9DLFVBQVVDLFFBQVFDO0lBQ3pDLElBQUksQ0FBQ0QsUUFBUSxPQUFPLEVBQUU7SUFFdEIsSUFBSUUsV0FBVyxFQUFFO0lBQ2pCLElBQUlDLE9BQU87SUFDWCxJQUFJQyxVQUFVO0lBQ2QsNkVBQTZFO0lBQzdFLE1BQU1DLFdBQVcsS0FBSyw0QkFBNEI7SUFFbEQsTUFBT0QsV0FBV0QsUUFBUUUsU0FBVTtRQUNoQyxNQUFNQyxZQUFZLE1BQU1ULHFFQUFtQkEsQ0FBQ0UsVUFBVUMsUUFBUUcsTUFBTTtRQUNwRSxJQUFJRyxVQUFVQyxNQUFNLEtBQUssT0FBTyxDQUFDRCxVQUFVRSxJQUFJLElBQUksQ0FBQ0YsVUFBVUUsSUFBSSxDQUFDQyxJQUFJLEVBQUU7WUFDckVMLFVBQVU7WUFDVjtRQUNKO1FBQ0FGLFNBQVNRLElBQUksSUFBSUosVUFBVUUsSUFBSSxDQUFDQyxJQUFJO1FBQ3BDTCxVQUFVRSxVQUFVRSxJQUFJLENBQUNDLElBQUksQ0FBQ0UsTUFBTSxLQUFLO1FBQ3pDUjtJQUNKO0lBQ0EsT0FBT0QsU0FBU1UsTUFBTSxDQUFDQyxDQUFBQSxPQUFRQSxLQUFLQyxTQUFTLENBQUNDLFdBQVcsR0FBR0MsUUFBUSxDQUFDZixNQUFNYyxXQUFXO0FBQzFGO0FBRWUsZUFBZUUsUUFBUUMsR0FBRyxFQUFFQyxHQUFHO0lBQzFDLE1BQU0sRUFBRXBCLFFBQVEsRUFBRUUsS0FBSyxFQUFFLEdBQUdpQixJQUFJakIsS0FBSztJQUNyQyxNQUFNRCxTQUFTb0IsUUFBUUMsR0FBRyxDQUFDQyxZQUFZO0lBRXZDLElBQUksQ0FBQ3ZCLFlBQVksQ0FBQ0UsT0FBTztRQUNyQixPQUFPa0IsSUFBSVosTUFBTSxDQUFDLEtBQUtnQixJQUFJLENBQUM7WUFBRUMsT0FBTztRQUE4QztJQUN2RjtJQUVBLElBQUk7UUFDQSw2REFBNkQ7UUFDN0QsTUFBTUMsWUFBWSxNQUFNN0IsMERBQVcsQ0FBQzhCLFFBQVEsQ0FBQztZQUN6Q0MsT0FBTztnQkFDSDVCLFVBQVVBO2dCQUNWZSxXQUFXO29CQUNQYyxVQUFVM0I7b0JBQ1Y0QixNQUFNO2dCQUNWO1lBQ0o7WUFDQUMsU0FBUztnQkFDTGhCLFdBQVc7WUFDZjtZQUNBaUIsTUFBTTtRQUNWO1FBRUEsMkVBQTJFO1FBQzNFLElBQUlOLFVBQVVkLE1BQU0sR0FBRyxHQUFHO1lBQ3RCLE9BQU9RLElBQUlaLE1BQU0sQ0FBQyxLQUFLZ0IsSUFBSSxDQUFDO2dCQUN4QmhCLFFBQVE7Z0JBQ1J5QixTQUFTO2dCQUNUeEIsTUFBTTtvQkFDRkMsTUFBTWdCLFVBQVVRLEdBQUcsQ0FBQ3BCLENBQUFBLE9BQVM7NEJBQUUsR0FBR0EsSUFBSTs0QkFBRXFCLE1BQU1yQixLQUFLcUIsSUFBSSxDQUFDQyxRQUFRO3dCQUFHO29CQUNuRUMsT0FBT1gsVUFBVWQsTUFBTTtnQkFDM0I7WUFDSjtRQUNKO1FBRUEscUVBQXFFO1FBQ3JFLGlDQUFpQztRQUNqQyxNQUFNMEIsYUFBYSxNQUFNdkMsWUFBWUMsVUFBVUMsUUFBUUM7UUFFdkQsd0ZBQXdGO1FBQ3hGLE9BQU9rQixJQUFJWixNQUFNLENBQUMsS0FBS2dCLElBQUksQ0FBQztZQUN4QmhCLFFBQVE7WUFDUnlCLFNBQVM7WUFDVHhCLE1BQU07Z0JBQ0ZDLE1BQU00QjtnQkFDTkQsT0FBT0MsV0FBVzFCLE1BQU07WUFDNUI7UUFDSjtJQUVKLEVBQUUsT0FBT2EsT0FBTztRQUNaYyxRQUFRZCxLQUFLLENBQUMscUJBQXFCQTtRQUNuQ0wsSUFBSVosTUFBTSxDQUFDLEtBQUtnQixJQUFJLENBQUM7WUFDakJDLE9BQU87WUFDUGUsU0FBU2YsTUFBTVEsT0FBTztRQUMxQjtJQUNKO0FBQ0oiLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcTG9uZ1xcRGVza3RvcFxcZm9sZGVyXFxDb2RlXFxxdWFya1xccGFnZXNcXGFwaVxcc2VhcmNoLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBwcmlzbWEgZnJvbSAnLi4vLi4vdXRpbHMvcHJpc21hJztcclxuaW1wb3J0IHsgZ2V0Q2FjaGVkUXVhcmtGaWxlcyB9IGZyb20gJy4uLy4uL3V0aWxzL3F1YXJrLWFwaSc7XHJcblxyXG4vLyBUaGlzIGZ1bmN0aW9uIHF1ZXJpZXMgdGhlIFF1YXJrIEFQSSBkaXJlY3RseSwgZmV0Y2hpbmcgYWxsIHBhZ2VzIGZvciBhIGNvbXByZWhlbnNpdmUgc2VhcmNoLlxyXG5jb25zdCBzZWFyY2hJbkFwaSA9IGFzeW5jIChwZGlyX2ZpZCwgY29va2llLCBxdWVyeSkgPT4ge1xyXG4gICAgaWYgKCFjb29raWUpIHJldHVybiBbXTtcclxuICAgIFxyXG4gICAgbGV0IGFsbEZpbGVzID0gW107XHJcbiAgICBsZXQgcGFnZSA9IDE7XHJcbiAgICBsZXQgaGFzTW9yZSA9IHRydWU7XHJcbiAgICAvLyBTYWZldHkgYnJlYWsgdG8gcHJldmVudCBpbmZpbml0ZSBsb29wcyBpbiBjYXNlIG9mIHVuZXhwZWN0ZWQgQVBJIGJlaGF2aW9yLlxyXG4gICAgY29uc3QgbWF4UGFnZXMgPSAxMDA7IC8vIENvcnJlc3BvbmRzIHRvIDUwMDAgZmlsZXNcclxuXHJcbiAgICB3aGlsZSAoaGFzTW9yZSAmJiBwYWdlIDw9IG1heFBhZ2VzKSB7XHJcbiAgICAgICAgY29uc3QgYXBpUmVzdWx0ID0gYXdhaXQgZ2V0Q2FjaGVkUXVhcmtGaWxlcyhwZGlyX2ZpZCwgY29va2llLCBwYWdlLCAnZmlsZV9uYW1lOmFzYycpO1xyXG4gICAgICAgIGlmIChhcGlSZXN1bHQuc3RhdHVzICE9PSAyMDAgfHwgIWFwaVJlc3VsdC5kYXRhIHx8ICFhcGlSZXN1bHQuZGF0YS5saXN0KSB7XHJcbiAgICAgICAgICAgIGhhc01vcmUgPSBmYWxzZTtcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGFsbEZpbGVzLnB1c2goLi4uYXBpUmVzdWx0LmRhdGEubGlzdCk7XHJcbiAgICAgICAgaGFzTW9yZSA9IGFwaVJlc3VsdC5kYXRhLmxpc3QubGVuZ3RoID09PSA1MDtcclxuICAgICAgICBwYWdlKys7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gYWxsRmlsZXMuZmlsdGVyKGZpbGUgPT4gZmlsZS5maWxlX25hbWUudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhxdWVyeS50b0xvd2VyQ2FzZSgpKSk7XHJcbn07XHJcblxyXG5leHBvcnQgZGVmYXVsdCBhc3luYyBmdW5jdGlvbiBoYW5kbGVyKHJlcSwgcmVzKSB7XHJcbiAgICBjb25zdCB7IHBkaXJfZmlkLCBxdWVyeSB9ID0gcmVxLnF1ZXJ5O1xyXG4gICAgY29uc3QgY29va2llID0gcHJvY2Vzcy5lbnYuUVVBUktfQ09PS0lFO1xyXG5cclxuICAgIGlmICghcGRpcl9maWQgfHwgIXF1ZXJ5KSB7XHJcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHsgZXJyb3I6ICdwZGlyX2ZpZCBhbmQgcXVlcnkgcGFyYW1ldGVycyBhcmUgcmVxdWlyZWQuJyB9KTtcclxuICAgIH1cclxuXHJcbiAgICB0cnkge1xyXG4gICAgICAgIC8vIDEuIFByaW9yaXRpemUgc2VhcmNoaW5nIGluIHRoZSBkYXRhYmFzZS4gSXQncyBtdWNoIGZhc3Rlci5cclxuICAgICAgICBjb25zdCBkYlJlc3VsdHMgPSBhd2FpdCBwcmlzbWEuZmlsZS5maW5kTWFueSh7XHJcbiAgICAgICAgICAgIHdoZXJlOiB7XHJcbiAgICAgICAgICAgICAgICBwZGlyX2ZpZDogcGRpcl9maWQsXHJcbiAgICAgICAgICAgICAgICBmaWxlX25hbWU6IHtcclxuICAgICAgICAgICAgICAgICAgICBjb250YWluczogcXVlcnksXHJcbiAgICAgICAgICAgICAgICAgICAgbW9kZTogJ2luc2Vuc2l0aXZlJyxcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIG9yZGVyQnk6IHtcclxuICAgICAgICAgICAgICAgIGZpbGVfbmFtZTogJ2FzYycsXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHRha2U6IDEwMCxcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8gMi4gSWYgdGhlIGRhdGFiYXNlIGhhcyByZXN1bHRzLCB3ZSBjYW4gdHJ1c3QgaXQncyByZWFzb25hYmx5IHVwLXRvLWRhdGUuXHJcbiAgICAgICAgaWYgKGRiUmVzdWx0cy5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbih7XHJcbiAgICAgICAgICAgICAgICBzdGF0dXM6IDIwMCxcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6ICdPSyAoZnJvbSBkYXRhYmFzZSknLFxyXG4gICAgICAgICAgICAgICAgZGF0YToge1xyXG4gICAgICAgICAgICAgICAgICAgIGxpc3Q6IGRiUmVzdWx0cy5tYXAoZmlsZSA9PiAoeyAuLi5maWxlLCBzaXplOiBmaWxlLnNpemUudG9TdHJpbmcoKSB9KSksXHJcbiAgICAgICAgICAgICAgICAgICAgdG90YWw6IGRiUmVzdWx0cy5sZW5ndGgsXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIDMuIElmIERCIGhhcyBubyByZXN1bHRzLCBpdCBtaWdodCBiZSBiZWNhdXNlIGl0J3Mgbm90IGluZGV4ZWQgeWV0LlxyXG4gICAgICAgIC8vIEZhbGxiYWNrIHRvIGEgbGl2ZSBBUEkgc2VhcmNoLlxyXG4gICAgICAgIGNvbnN0IGFwaVJlc3VsdHMgPSBhd2FpdCBzZWFyY2hJbkFwaShwZGlyX2ZpZCwgY29va2llLCBxdWVyeSk7XHJcblxyXG4gICAgICAgIC8vIDQuIFJldHVybiB0aGUgQVBJIHJlc3VsdHMuIFRoaXMgd2lsbCBjb3JyZWN0bHkgYmUgYW4gZW1wdHkgYXJyYXkgaWYgbm90aGluZyBpcyBmb3VuZC5cclxuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLmpzb24oe1xyXG4gICAgICAgICAgICBzdGF0dXM6IDIwMCxcclxuICAgICAgICAgICAgbWVzc2FnZTogJ09LIChmcm9tIEFQSSBmYWxsYmFjayknLFxyXG4gICAgICAgICAgICBkYXRhOiB7XHJcbiAgICAgICAgICAgICAgICBsaXN0OiBhcGlSZXN1bHRzLFxyXG4gICAgICAgICAgICAgICAgdG90YWw6IGFwaVJlc3VsdHMubGVuZ3RoLFxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgY29uc29sZS5lcnJvcignU2VhcmNoIEFQSSBlcnJvcjonLCBlcnJvcik7XHJcbiAgICAgICAgcmVzLnN0YXR1cyg1MDApLmpzb24oe1xyXG4gICAgICAgICAgICBlcnJvcjogJ0FuIHVuZXhwZWN0ZWQgc2VydmVyIGVycm9yIG9jY3VycmVkIGR1cmluZyBzZWFyY2guJyxcclxuICAgICAgICAgICAgZGV0YWlsczogZXJyb3IubWVzc2FnZSxcclxuICAgICAgICB9KTtcclxuICAgIH1cclxufVxyXG4iXSwibmFtZXMiOlsicHJpc21hIiwiZ2V0Q2FjaGVkUXVhcmtGaWxlcyIsInNlYXJjaEluQXBpIiwicGRpcl9maWQiLCJjb29raWUiLCJxdWVyeSIsImFsbEZpbGVzIiwicGFnZSIsImhhc01vcmUiLCJtYXhQYWdlcyIsImFwaVJlc3VsdCIsInN0YXR1cyIsImRhdGEiLCJsaXN0IiwicHVzaCIsImxlbmd0aCIsImZpbHRlciIsImZpbGUiLCJmaWxlX25hbWUiLCJ0b0xvd2VyQ2FzZSIsImluY2x1ZGVzIiwiaGFuZGxlciIsInJlcSIsInJlcyIsInByb2Nlc3MiLCJlbnYiLCJRVUFSS19DT09LSUUiLCJqc29uIiwiZXJyb3IiLCJkYlJlc3VsdHMiLCJmaW5kTWFueSIsIndoZXJlIiwiY29udGFpbnMiLCJtb2RlIiwib3JkZXJCeSIsInRha2UiLCJtZXNzYWdlIiwibWFwIiwic2l6ZSIsInRvU3RyaW5nIiwidG90YWwiLCJhcGlSZXN1bHRzIiwiY29uc29sZSIsImRldGFpbHMiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api-node)/./pages/api/search.js\n");

/***/ }),

/***/ "(api-node)/./utils/prisma.js":
/*!*************************!*\
  !*** ./utils/prisma.js ***!
  \*************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _prisma_client__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @prisma/client */ \"@prisma/client\");\n/* harmony import */ var _prisma_client__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_prisma_client__WEBPACK_IMPORTED_MODULE_0__);\n\nlet prisma;\nif (false) {} else {\n    if (!global.prisma) {\n        global.prisma = new _prisma_client__WEBPACK_IMPORTED_MODULE_0__.PrismaClient();\n    }\n    prisma = global.prisma;\n}\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (prisma);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaS1ub2RlKS8uL3V0aWxzL3ByaXNtYS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBOEM7QUFFOUMsSUFBSUM7QUFFSixJQUFJQyxLQUFxQyxFQUFFLEVBRTFDLE1BQU07SUFDTCxJQUFJLENBQUNDLE9BQU9GLE1BQU0sRUFBRTtRQUNsQkUsT0FBT0YsTUFBTSxHQUFHLElBQUlELHdEQUFZQTtJQUNsQztJQUNBQyxTQUFTRSxPQUFPRixNQUFNO0FBQ3hCO0FBRUEsaUVBQWVBLE1BQU1BLEVBQUMiLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcTG9uZ1xcRGVza3RvcFxcZm9sZGVyXFxDb2RlXFxxdWFya1xcdXRpbHNcXHByaXNtYS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBQcmlzbWFDbGllbnQgfSBmcm9tICdAcHJpc21hL2NsaWVudCc7XHJcblxyXG5sZXQgcHJpc21hO1xyXG5cclxuaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAncHJvZHVjdGlvbicpIHtcclxuICBwcmlzbWEgPSBuZXcgUHJpc21hQ2xpZW50KCk7XHJcbn0gZWxzZSB7XHJcbiAgaWYgKCFnbG9iYWwucHJpc21hKSB7XHJcbiAgICBnbG9iYWwucHJpc21hID0gbmV3IFByaXNtYUNsaWVudCgpO1xyXG4gIH1cclxuICBwcmlzbWEgPSBnbG9iYWwucHJpc21hO1xyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBwcmlzbWE7XHJcbiJdLCJuYW1lcyI6WyJQcmlzbWFDbGllbnQiLCJwcmlzbWEiLCJwcm9jZXNzIiwiZ2xvYmFsIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api-node)/./utils/prisma.js\n");

/***/ }),

/***/ "(api-node)/./utils/quark-api.js":
/*!****************************!*\
  !*** ./utils/quark-api.js ***!
  \****************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getCachedQuarkFiles: () => (/* binding */ getCachedQuarkFiles)\n/* harmony export */ });\n/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! axios */ \"axios\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([axios__WEBPACK_IMPORTED_MODULE_0__]);\naxios__WEBPACK_IMPORTED_MODULE_0__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n// Simple in-memory cache with a TTL (Time-To-Live)\nconst cache = new Map();\nconst CACHE_TTL = 5 * 60 * 1000; // 5 minutes\nasync function fetchQuarkFiles(pdir_fid, cookie, page = 1, sort = 'file_name:asc') {\n    const params = new URLSearchParams({\n        pr: 'ucpro',\n        fr: 'pc',\n        uc_param_str: '',\n        pdir_fid: pdir_fid,\n        _page: page,\n        _size: 50,\n        _fetch_total: 1,\n        _fetch_sub_dirs: 0,\n        _sort: `file_type:asc,${sort}`\n    });\n    const url = `https://drive-pc.quark.cn/1/clouddrive/file/sort?${params.toString()}`;\n    const response = await axios__WEBPACK_IMPORTED_MODULE_0__[\"default\"].get(url, {\n        headers: {\n            'Accept': 'application/json, text/plain, */*',\n            'Referer': 'https://pan.quark.cn/',\n            'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36',\n            'Cookie': cookie\n        }\n    });\n    const contentType = response.headers['content-type'];\n    if (!contentType || !contentType.includes('application/json')) {\n        // This is likely an HTML error page from Quark (e.g., login page)\n        throw new Error('Invalid response from Quark API. The cookie might be expired or invalid.');\n    }\n    return response.data;\n}\nasync function getCachedQuarkFiles(pdir_fid, cookie, page, sort) {\n    const cacheKey = `${pdir_fid}-${page}-${sort}`;\n    const cachedItem = cache.get(cacheKey);\n    if (cachedItem && Date.now() - cachedItem.timestamp < CACHE_TTL) {\n        return JSON.parse(JSON.stringify(cachedItem.data));\n    }\n    const data = await fetchQuarkFiles(pdir_fid, cookie, page, sort);\n    if (data.status === 200) {\n        cache.set(cacheKey, {\n            timestamp: Date.now(),\n            data: JSON.parse(JSON.stringify(data))\n        });\n    }\n    // Clean up expired cache items occasionally\n    if (Math.random() < 0.1) {\n        for (const [key, value] of cache.entries()){\n            if (Date.now() - value.timestamp > CACHE_TTL) {\n                cache.delete(key);\n            }\n        }\n    }\n    return data;\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaS1ub2RlKS8uL3V0aWxzL3F1YXJrLWFwaS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUEwQjtBQUUxQixtREFBbUQ7QUFDbkQsTUFBTUMsUUFBUSxJQUFJQztBQUNsQixNQUFNQyxZQUFZLElBQUksS0FBSyxNQUFNLFlBQVk7QUFFN0MsZUFBZUMsZ0JBQWdCQyxRQUFRLEVBQUVDLE1BQU0sRUFBRUMsT0FBTyxDQUFDLEVBQUVDLE9BQU8sZUFBZTtJQUM3RSxNQUFNQyxTQUFTLElBQUlDLGdCQUFnQjtRQUMvQkMsSUFBSTtRQUNKQyxJQUFJO1FBQ0pDLGNBQWM7UUFDZFIsVUFBVUE7UUFDVlMsT0FBT1A7UUFDUFEsT0FBTztRQUNQQyxjQUFjO1FBQ2RDLGlCQUFpQjtRQUNqQkMsT0FBTyxDQUFDLGNBQWMsRUFBRVYsTUFBTTtJQUNsQztJQUNBLE1BQU1XLE1BQU0sQ0FBQyxpREFBaUQsRUFBRVYsT0FBT1csUUFBUSxJQUFJO0lBRW5GLE1BQU1DLFdBQVcsTUFBTXJCLGlEQUFTLENBQUNtQixLQUFLO1FBQ2xDSSxTQUFTO1lBQ0wsVUFBVTtZQUNWLFdBQVc7WUFDWCxjQUFjO1lBQ2QsVUFBVWpCO1FBQ2Q7SUFDSjtJQUVBLE1BQU1rQixjQUFjSCxTQUFTRSxPQUFPLENBQUMsZUFBZTtJQUNwRCxJQUFJLENBQUNDLGVBQWUsQ0FBQ0EsWUFBWUMsUUFBUSxDQUFDLHFCQUFxQjtRQUMzRCxrRUFBa0U7UUFDbEUsTUFBTSxJQUFJQyxNQUFNO0lBQ3BCO0lBRUEsT0FBT0wsU0FBU00sSUFBSTtBQUN4QjtBQUVPLGVBQWVDLG9CQUFvQnZCLFFBQVEsRUFBRUMsTUFBTSxFQUFFQyxJQUFJLEVBQUVDLElBQUk7SUFDbEUsTUFBTXFCLFdBQVcsR0FBR3hCLFNBQVMsQ0FBQyxFQUFFRSxLQUFLLENBQUMsRUFBRUMsTUFBTTtJQUM5QyxNQUFNc0IsYUFBYTdCLE1BQU1xQixHQUFHLENBQUNPO0lBRTdCLElBQUlDLGNBQWVDLEtBQUtDLEdBQUcsS0FBS0YsV0FBV0csU0FBUyxHQUFHOUIsV0FBWTtRQUMvRCxPQUFPK0IsS0FBS0MsS0FBSyxDQUFDRCxLQUFLRSxTQUFTLENBQUNOLFdBQVdILElBQUk7SUFDcEQ7SUFFQSxNQUFNQSxPQUFPLE1BQU12QixnQkFBZ0JDLFVBQVVDLFFBQVFDLE1BQU1DO0lBRTNELElBQUltQixLQUFLVSxNQUFNLEtBQUssS0FBSztRQUNyQnBDLE1BQU1xQyxHQUFHLENBQUNULFVBQVU7WUFDaEJJLFdBQVdGLEtBQUtDLEdBQUc7WUFDbkJMLE1BQU1PLEtBQUtDLEtBQUssQ0FBQ0QsS0FBS0UsU0FBUyxDQUFDVDtRQUNwQztJQUNKO0lBRUEsNENBQTRDO0lBQzVDLElBQUlZLEtBQUtDLE1BQU0sS0FBSyxLQUFLO1FBQ3JCLEtBQUssTUFBTSxDQUFDQyxLQUFLQyxNQUFNLElBQUl6QyxNQUFNMEMsT0FBTyxHQUFJO1lBQ3hDLElBQUlaLEtBQUtDLEdBQUcsS0FBS1UsTUFBTVQsU0FBUyxHQUFHOUIsV0FBVztnQkFDMUNGLE1BQU0yQyxNQUFNLENBQUNIO1lBQ2pCO1FBQ0o7SUFDSjtJQUVBLE9BQU9kO0FBQ1giLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcTG9uZ1xcRGVza3RvcFxcZm9sZGVyXFxDb2RlXFxxdWFya1xcdXRpbHNcXHF1YXJrLWFwaS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnO1xyXG5cclxuLy8gU2ltcGxlIGluLW1lbW9yeSBjYWNoZSB3aXRoIGEgVFRMIChUaW1lLVRvLUxpdmUpXHJcbmNvbnN0IGNhY2hlID0gbmV3IE1hcCgpO1xyXG5jb25zdCBDQUNIRV9UVEwgPSA1ICogNjAgKiAxMDAwOyAvLyA1IG1pbnV0ZXNcclxuXHJcbmFzeW5jIGZ1bmN0aW9uIGZldGNoUXVhcmtGaWxlcyhwZGlyX2ZpZCwgY29va2llLCBwYWdlID0gMSwgc29ydCA9ICdmaWxlX25hbWU6YXNjJykge1xyXG4gICAgY29uc3QgcGFyYW1zID0gbmV3IFVSTFNlYXJjaFBhcmFtcyh7XHJcbiAgICAgICAgcHI6ICd1Y3BybycsXHJcbiAgICAgICAgZnI6ICdwYycsXHJcbiAgICAgICAgdWNfcGFyYW1fc3RyOiAnJyxcclxuICAgICAgICBwZGlyX2ZpZDogcGRpcl9maWQsXHJcbiAgICAgICAgX3BhZ2U6IHBhZ2UsXHJcbiAgICAgICAgX3NpemU6IDUwLFxyXG4gICAgICAgIF9mZXRjaF90b3RhbDogMSxcclxuICAgICAgICBfZmV0Y2hfc3ViX2RpcnM6IDAsXHJcbiAgICAgICAgX3NvcnQ6IGBmaWxlX3R5cGU6YXNjLCR7c29ydH1gLFxyXG4gICAgfSk7XHJcbiAgICBjb25zdCB1cmwgPSBgaHR0cHM6Ly9kcml2ZS1wYy5xdWFyay5jbi8xL2Nsb3VkZHJpdmUvZmlsZS9zb3J0PyR7cGFyYW1zLnRvU3RyaW5nKCl9YDtcclxuXHJcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGF4aW9zLmdldCh1cmwsIHtcclxuICAgICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgICAgICdBY2NlcHQnOiAnYXBwbGljYXRpb24vanNvbiwgdGV4dC9wbGFpbiwgKi8qJyxcclxuICAgICAgICAgICAgJ1JlZmVyZXInOiAnaHR0cHM6Ly9wYW4ucXVhcmsuY24vJyxcclxuICAgICAgICAgICAgJ1VzZXItQWdlbnQnOiAnTW96aWxsYS81LjAgKFdpbmRvd3MgTlQgMTAuMDsgV2luNjQ7IHg2NCkgQXBwbGVXZWJLaXQvNTM3LjM2IChLSFRNTCwgbGlrZSBHZWNrbykgQ2hyb21lLzEyMC4wLjAuMCBTYWZhcmkvNTM3LjM2JyxcclxuICAgICAgICAgICAgJ0Nvb2tpZSc6IGNvb2tpZSxcclxuICAgICAgICB9LFxyXG4gICAgfSk7XHJcblxyXG4gICAgY29uc3QgY29udGVudFR5cGUgPSByZXNwb25zZS5oZWFkZXJzWydjb250ZW50LXR5cGUnXTtcclxuICAgIGlmICghY29udGVudFR5cGUgfHwgIWNvbnRlbnRUeXBlLmluY2x1ZGVzKCdhcHBsaWNhdGlvbi9qc29uJykpIHtcclxuICAgICAgICAvLyBUaGlzIGlzIGxpa2VseSBhbiBIVE1MIGVycm9yIHBhZ2UgZnJvbSBRdWFyayAoZS5nLiwgbG9naW4gcGFnZSlcclxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgcmVzcG9uc2UgZnJvbSBRdWFyayBBUEkuIFRoZSBjb29raWUgbWlnaHQgYmUgZXhwaXJlZCBvciBpbnZhbGlkLicpO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiByZXNwb25zZS5kYXRhO1xyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0Q2FjaGVkUXVhcmtGaWxlcyhwZGlyX2ZpZCwgY29va2llLCBwYWdlLCBzb3J0KSB7XHJcbiAgICBjb25zdCBjYWNoZUtleSA9IGAke3BkaXJfZmlkfS0ke3BhZ2V9LSR7c29ydH1gO1xyXG4gICAgY29uc3QgY2FjaGVkSXRlbSA9IGNhY2hlLmdldChjYWNoZUtleSk7XHJcblxyXG4gICAgaWYgKGNhY2hlZEl0ZW0gJiYgKERhdGUubm93KCkgLSBjYWNoZWRJdGVtLnRpbWVzdGFtcCA8IENBQ0hFX1RUTCkpIHtcclxuICAgICAgICByZXR1cm4gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShjYWNoZWRJdGVtLmRhdGEpKTtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBkYXRhID0gYXdhaXQgZmV0Y2hRdWFya0ZpbGVzKHBkaXJfZmlkLCBjb29raWUsIHBhZ2UsIHNvcnQpO1xyXG4gICAgXHJcbiAgICBpZiAoZGF0YS5zdGF0dXMgPT09IDIwMCkge1xyXG4gICAgICAgIGNhY2hlLnNldChjYWNoZUtleSwge1xyXG4gICAgICAgICAgICB0aW1lc3RhbXA6IERhdGUubm93KCksXHJcbiAgICAgICAgICAgIGRhdGE6IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoZGF0YSkpLFxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICAvLyBDbGVhbiB1cCBleHBpcmVkIGNhY2hlIGl0ZW1zIG9jY2FzaW9uYWxseVxyXG4gICAgaWYgKE1hdGgucmFuZG9tKCkgPCAwLjEpIHtcclxuICAgICAgICBmb3IgKGNvbnN0IFtrZXksIHZhbHVlXSBvZiBjYWNoZS5lbnRyaWVzKCkpIHtcclxuICAgICAgICAgICAgaWYgKERhdGUubm93KCkgLSB2YWx1ZS50aW1lc3RhbXAgPiBDQUNIRV9UVEwpIHtcclxuICAgICAgICAgICAgICAgIGNhY2hlLmRlbGV0ZShrZXkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBkYXRhO1xyXG59XHJcbiJdLCJuYW1lcyI6WyJheGlvcyIsImNhY2hlIiwiTWFwIiwiQ0FDSEVfVFRMIiwiZmV0Y2hRdWFya0ZpbGVzIiwicGRpcl9maWQiLCJjb29raWUiLCJwYWdlIiwic29ydCIsInBhcmFtcyIsIlVSTFNlYXJjaFBhcmFtcyIsInByIiwiZnIiLCJ1Y19wYXJhbV9zdHIiLCJfcGFnZSIsIl9zaXplIiwiX2ZldGNoX3RvdGFsIiwiX2ZldGNoX3N1Yl9kaXJzIiwiX3NvcnQiLCJ1cmwiLCJ0b1N0cmluZyIsInJlc3BvbnNlIiwiZ2V0IiwiaGVhZGVycyIsImNvbnRlbnRUeXBlIiwiaW5jbHVkZXMiLCJFcnJvciIsImRhdGEiLCJnZXRDYWNoZWRRdWFya0ZpbGVzIiwiY2FjaGVLZXkiLCJjYWNoZWRJdGVtIiwiRGF0ZSIsIm5vdyIsInRpbWVzdGFtcCIsIkpTT04iLCJwYXJzZSIsInN0cmluZ2lmeSIsInN0YXR1cyIsInNldCIsIk1hdGgiLCJyYW5kb20iLCJrZXkiLCJ2YWx1ZSIsImVudHJpZXMiLCJkZWxldGUiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api-node)/./utils/quark-api.js\n");

/***/ }),

/***/ "@prisma/client":
/*!*********************************!*\
  !*** external "@prisma/client" ***!
  \*********************************/
/***/ ((module) => {

module.exports = require("@prisma/client");

/***/ }),

/***/ "axios":
/*!************************!*\
  !*** external "axios" ***!
  \************************/
/***/ ((module) => {

module.exports = import("axios");;

/***/ }),

/***/ "next/dist/compiled/next-server/pages-api.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/pages-api.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/pages-api.runtime.dev.js");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next@15.3.4_react-dom@19.1.0_react@19.1.0__react@19.1.0"], () => (__webpack_exec__("(api-node)/./node_modules/.pnpm/next@15.3.4_react-dom@19.1.0_react@19.1.0__react@19.1.0/node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fsearch&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Csearch.js&middlewareConfigBase64=e30%3D!")));
module.exports = __webpack_exports__;

})();