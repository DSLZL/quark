"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/files";
exports.ids = ["pages/api/files"];
exports.modules = {

/***/ "(api-node)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Ffiles&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Cfiles.js&middlewareConfigBase64=e30%3D!":
/*!****************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Ffiles&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Cfiles.js&middlewareConfigBase64=e30%3D! ***!
  \****************************************************************************************************************************************************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   routeModule: () => (/* binding */ routeModule)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/route-modules/pages-api/module.compiled */ \"(api-node)/./node_modules/next/dist/server/route-modules/pages-api/module.compiled.js\");\n/* harmony import */ var next_dist_server_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/route-kind */ \"(api-node)/./node_modules/next/dist/server/route-kind.js\");\n/* harmony import */ var next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/build/templates/helpers */ \"(api-node)/./node_modules/next/dist/build/templates/helpers.js\");\n/* harmony import */ var _pages_api_files_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./pages\\api\\files.js */ \"(api-node)/./pages/api/files.js\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_pages_api_files_js__WEBPACK_IMPORTED_MODULE_3__]);\n_pages_api_files_js__WEBPACK_IMPORTED_MODULE_3__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\n\n// Import the userland code.\n\n// Re-export the handler (should be the default export).\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_files_js__WEBPACK_IMPORTED_MODULE_3__, 'default'));\n// Re-export config.\nconst config = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_files_js__WEBPACK_IMPORTED_MODULE_3__, 'config');\n// Create and export the route module that will be consumed.\nconst routeModule = new next_dist_server_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__.PagesAPIRouteModule({\n    definition: {\n        kind: next_dist_server_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.PAGES_API,\n        page: \"/api/files\",\n        pathname: \"/api/files\",\n        // The following aren't used in production.\n        bundlePath: '',\n        filename: ''\n    },\n    userland: _pages_api_files_js__WEBPACK_IMPORTED_MODULE_3__\n});\n\n//# sourceMappingURL=pages-api.js.map\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaS1ub2RlKS8uL25vZGVfbW9kdWxlcy9uZXh0L2Rpc3QvYnVpbGQvd2VicGFjay9sb2FkZXJzL25leHQtcm91dGUtbG9hZGVyL2luZGV4LmpzP2tpbmQ9UEFHRVNfQVBJJnBhZ2U9JTJGYXBpJTJGZmlsZXMmcHJlZmVycmVkUmVnaW9uPSZhYnNvbHV0ZVBhZ2VQYXRoPS4lMkZwYWdlcyU1Q2FwaSU1Q2ZpbGVzLmpzJm1pZGRsZXdhcmVDb25maWdCYXNlNjQ9ZTMwJTNEISIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7OztBQUErRjtBQUN2QztBQUNFO0FBQzFEO0FBQ21EO0FBQ25EO0FBQ0EsaUVBQWUsd0VBQUssQ0FBQyxnREFBUSxZQUFZLEVBQUM7QUFDMUM7QUFDTyxlQUFlLHdFQUFLLENBQUMsZ0RBQVE7QUFDcEM7QUFDTyx3QkFBd0IseUdBQW1CO0FBQ2xEO0FBQ0EsY0FBYyxrRUFBUztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLFlBQVk7QUFDWixDQUFDOztBQUVELHFDIiwic291cmNlcyI6WyIiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUGFnZXNBUElSb3V0ZU1vZHVsZSB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL3JvdXRlLW1vZHVsZXMvcGFnZXMtYXBpL21vZHVsZS5jb21waWxlZFwiO1xuaW1wb3J0IHsgUm91dGVLaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvcm91dGUta2luZFwiO1xuaW1wb3J0IHsgaG9pc3QgfSBmcm9tIFwibmV4dC9kaXN0L2J1aWxkL3RlbXBsYXRlcy9oZWxwZXJzXCI7XG4vLyBJbXBvcnQgdGhlIHVzZXJsYW5kIGNvZGUuXG5pbXBvcnQgKiBhcyB1c2VybGFuZCBmcm9tIFwiLi9wYWdlc1xcXFxhcGlcXFxcZmlsZXMuanNcIjtcbi8vIFJlLWV4cG9ydCB0aGUgaGFuZGxlciAoc2hvdWxkIGJlIHRoZSBkZWZhdWx0IGV4cG9ydCkuXG5leHBvcnQgZGVmYXVsdCBob2lzdCh1c2VybGFuZCwgJ2RlZmF1bHQnKTtcbi8vIFJlLWV4cG9ydCBjb25maWcuXG5leHBvcnQgY29uc3QgY29uZmlnID0gaG9pc3QodXNlcmxhbmQsICdjb25maWcnKTtcbi8vIENyZWF0ZSBhbmQgZXhwb3J0IHRoZSByb3V0ZSBtb2R1bGUgdGhhdCB3aWxsIGJlIGNvbnN1bWVkLlxuZXhwb3J0IGNvbnN0IHJvdXRlTW9kdWxlID0gbmV3IFBhZ2VzQVBJUm91dGVNb2R1bGUoe1xuICAgIGRlZmluaXRpb246IHtcbiAgICAgICAga2luZDogUm91dGVLaW5kLlBBR0VTX0FQSSxcbiAgICAgICAgcGFnZTogXCIvYXBpL2ZpbGVzXCIsXG4gICAgICAgIHBhdGhuYW1lOiBcIi9hcGkvZmlsZXNcIixcbiAgICAgICAgLy8gVGhlIGZvbGxvd2luZyBhcmVuJ3QgdXNlZCBpbiBwcm9kdWN0aW9uLlxuICAgICAgICBidW5kbGVQYXRoOiAnJyxcbiAgICAgICAgZmlsZW5hbWU6ICcnXG4gICAgfSxcbiAgICB1c2VybGFuZFxufSk7XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXBhZ2VzLWFwaS5qcy5tYXAiXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api-node)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Ffiles&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Cfiles.js&middlewareConfigBase64=e30%3D!\n");

/***/ }),

/***/ "(api-node)/./pages/api/files.js":
/*!****************************!*\
  !*** ./pages/api/files.js ***!
  \****************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ handler)\n/* harmony export */ });\n/* harmony import */ var _utils_quark_api__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../utils/quark-api */ \"(api-node)/./utils/quark-api.js\");\n/* harmony import */ var _utils_db_cache__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../utils/db-cache */ \"(api-node)/./utils/db-cache.js\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_utils_quark_api__WEBPACK_IMPORTED_MODULE_0__]);\n_utils_quark_api__WEBPACK_IMPORTED_MODULE_0__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\nasync function handler(req, res) {\n    const cookie = process.env.QUARK_COOKIE;\n    if (!cookie) {\n        return res.status(500).json({\n            error: 'Server misconfiguration: QUARK_COOKIE is not set.'\n        });\n    }\n    const { pdir_fid, page = 1, sort = 'file_name:asc' } = req.query;\n    if (!pdir_fid) {\n        return res.status(400).json({\n            error: 'pdir_fid parameter is required.'\n        });\n    }\n    try {\n        const data = await (0,_utils_quark_api__WEBPACK_IMPORTED_MODULE_0__.getCachedQuarkFiles)(pdir_fid, cookie, page, sort);\n        if (data.status !== 200) {\n            const errorMessage = data.message === 'require login [guest]' ? 'Cookie已失效' : data.message;\n            return res.status(502).json({\n                error: 'Failed to fetch data from Quark API.',\n                details: errorMessage\n            });\n        }\n        // We are now triggering the indexer from the frontend.\n        // This endpoint is only responsible for serving file pages.\n        // We can still cache the page we fetched to speed up initial view.\n        if (data.data && data.data.list && data.data.list.length > 0) {\n            (0,_utils_db_cache__WEBPACK_IMPORTED_MODULE_1__.cacheFilesToDb)(data.data.list).catch((err)=>{\n                console.error(\"Error in background DB cache for page:\", err);\n            });\n        }\n        res.status(200).json(data);\n    } catch (error) {\n        console.error('API route error:', error);\n        res.status(500).json({\n            error: 'An unexpected server error occurred.',\n            details: error.message\n        });\n    }\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaS1ub2RlKS8uL3BhZ2VzL2FwaS9maWxlcy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFBNEQ7QUFDTjtBQUV2QyxlQUFlRSxRQUFRQyxHQUFHLEVBQUVDLEdBQUc7SUFDMUMsTUFBTUMsU0FBU0MsUUFBUUMsR0FBRyxDQUFDQyxZQUFZO0lBQ3ZDLElBQUksQ0FBQ0gsUUFBUTtRQUNULE9BQU9ELElBQUlLLE1BQU0sQ0FBQyxLQUFLQyxJQUFJLENBQUM7WUFBRUMsT0FBTztRQUFvRDtJQUM3RjtJQUVBLE1BQU0sRUFBRUMsUUFBUSxFQUFFQyxPQUFPLENBQUMsRUFBRUMsT0FBTyxlQUFlLEVBQUUsR0FBR1gsSUFBSVksS0FBSztJQUVoRSxJQUFJLENBQUNILFVBQVU7UUFDWCxPQUFPUixJQUFJSyxNQUFNLENBQUMsS0FBS0MsSUFBSSxDQUFDO1lBQUVDLE9BQU87UUFBa0M7SUFDM0U7SUFFQSxJQUFJO1FBQ0EsTUFBTUssT0FBTyxNQUFNaEIscUVBQW1CQSxDQUFDWSxVQUFVUCxRQUFRUSxNQUFNQztRQUUvRCxJQUFJRSxLQUFLUCxNQUFNLEtBQUssS0FBSztZQUNyQixNQUFNUSxlQUFlRCxLQUFLRSxPQUFPLEtBQUssMEJBQTBCLGNBQWNGLEtBQUtFLE9BQU87WUFDMUYsT0FBT2QsSUFBSUssTUFBTSxDQUFDLEtBQUtDLElBQUksQ0FBQztnQkFBRUMsT0FBTztnQkFBd0NRLFNBQVNGO1lBQWE7UUFDdkc7UUFFQSx1REFBdUQ7UUFDdkQsNERBQTREO1FBQzVELG1FQUFtRTtRQUNuRSxJQUFJRCxLQUFLQSxJQUFJLElBQUlBLEtBQUtBLElBQUksQ0FBQ0ksSUFBSSxJQUFJSixLQUFLQSxJQUFJLENBQUNJLElBQUksQ0FBQ0MsTUFBTSxHQUFHLEdBQUc7WUFDMURwQiwrREFBY0EsQ0FBQ2UsS0FBS0EsSUFBSSxDQUFDSSxJQUFJLEVBQUVFLEtBQUssQ0FBQ0MsQ0FBQUE7Z0JBQ2pDQyxRQUFRYixLQUFLLENBQUMsMENBQTBDWTtZQUM1RDtRQUNKO1FBRUFuQixJQUFJSyxNQUFNLENBQUMsS0FBS0MsSUFBSSxDQUFDTTtJQUV6QixFQUFFLE9BQU9MLE9BQU87UUFDWmEsUUFBUWIsS0FBSyxDQUFDLG9CQUFvQkE7UUFDbENQLElBQUlLLE1BQU0sQ0FBQyxLQUFLQyxJQUFJLENBQUM7WUFDakJDLE9BQU87WUFDUFEsU0FBU1IsTUFBTU8sT0FBTztRQUMxQjtJQUNKO0FBQ0oiLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcTG9uZ1xcRGVza3RvcFxcZm9sZGVyXFxDb2RlXFxxdWFya1xccGFnZXNcXGFwaVxcZmlsZXMuanMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZ2V0Q2FjaGVkUXVhcmtGaWxlcyB9IGZyb20gJy4uLy4uL3V0aWxzL3F1YXJrLWFwaSc7XHJcbmltcG9ydCB7IGNhY2hlRmlsZXNUb0RiIH0gZnJvbSAnLi4vLi4vdXRpbHMvZGItY2FjaGUnO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgYXN5bmMgZnVuY3Rpb24gaGFuZGxlcihyZXEsIHJlcykge1xyXG4gICAgY29uc3QgY29va2llID0gcHJvY2Vzcy5lbnYuUVVBUktfQ09PS0lFO1xyXG4gICAgaWYgKCFjb29raWUpIHtcclxuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg1MDApLmpzb24oeyBlcnJvcjogJ1NlcnZlciBtaXNjb25maWd1cmF0aW9uOiBRVUFSS19DT09LSUUgaXMgbm90IHNldC4nIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IHsgcGRpcl9maWQsIHBhZ2UgPSAxLCBzb3J0ID0gJ2ZpbGVfbmFtZTphc2MnIH0gPSByZXEucXVlcnk7XHJcblxyXG4gICAgaWYgKCFwZGlyX2ZpZCkge1xyXG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7IGVycm9yOiAncGRpcl9maWQgcGFyYW1ldGVyIGlzIHJlcXVpcmVkLicgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgdHJ5IHtcclxuICAgICAgICBjb25zdCBkYXRhID0gYXdhaXQgZ2V0Q2FjaGVkUXVhcmtGaWxlcyhwZGlyX2ZpZCwgY29va2llLCBwYWdlLCBzb3J0KTtcclxuICAgICAgICBcclxuICAgICAgICBpZiAoZGF0YS5zdGF0dXMgIT09IDIwMCkge1xyXG4gICAgICAgICAgICBjb25zdCBlcnJvck1lc3NhZ2UgPSBkYXRhLm1lc3NhZ2UgPT09ICdyZXF1aXJlIGxvZ2luIFtndWVzdF0nID8gJ0Nvb2tpZeW3suWkseaViCcgOiBkYXRhLm1lc3NhZ2U7XHJcbiAgICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDUwMikuanNvbih7IGVycm9yOiAnRmFpbGVkIHRvIGZldGNoIGRhdGEgZnJvbSBRdWFyayBBUEkuJywgZGV0YWlsczogZXJyb3JNZXNzYWdlIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICAvLyBXZSBhcmUgbm93IHRyaWdnZXJpbmcgdGhlIGluZGV4ZXIgZnJvbSB0aGUgZnJvbnRlbmQuXHJcbiAgICAgICAgLy8gVGhpcyBlbmRwb2ludCBpcyBvbmx5IHJlc3BvbnNpYmxlIGZvciBzZXJ2aW5nIGZpbGUgcGFnZXMuXHJcbiAgICAgICAgLy8gV2UgY2FuIHN0aWxsIGNhY2hlIHRoZSBwYWdlIHdlIGZldGNoZWQgdG8gc3BlZWQgdXAgaW5pdGlhbCB2aWV3LlxyXG4gICAgICAgIGlmIChkYXRhLmRhdGEgJiYgZGF0YS5kYXRhLmxpc3QgJiYgZGF0YS5kYXRhLmxpc3QubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICBjYWNoZUZpbGVzVG9EYihkYXRhLmRhdGEubGlzdCkuY2F0Y2goZXJyID0+IHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBpbiBiYWNrZ3JvdW5kIERCIGNhY2hlIGZvciBwYWdlOlwiLCBlcnIpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oZGF0YSk7XHJcblxyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICBjb25zb2xlLmVycm9yKCdBUEkgcm91dGUgZXJyb3I6JywgZXJyb3IpO1xyXG4gICAgICAgIHJlcy5zdGF0dXMoNTAwKS5qc29uKHsgXHJcbiAgICAgICAgICAgIGVycm9yOiAnQW4gdW5leHBlY3RlZCBzZXJ2ZXIgZXJyb3Igb2NjdXJyZWQuJywgXHJcbiAgICAgICAgICAgIGRldGFpbHM6IGVycm9yLm1lc3NhZ2UsXHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn1cclxuIl0sIm5hbWVzIjpbImdldENhY2hlZFF1YXJrRmlsZXMiLCJjYWNoZUZpbGVzVG9EYiIsImhhbmRsZXIiLCJyZXEiLCJyZXMiLCJjb29raWUiLCJwcm9jZXNzIiwiZW52IiwiUVVBUktfQ09PS0lFIiwic3RhdHVzIiwianNvbiIsImVycm9yIiwicGRpcl9maWQiLCJwYWdlIiwic29ydCIsInF1ZXJ5IiwiZGF0YSIsImVycm9yTWVzc2FnZSIsIm1lc3NhZ2UiLCJkZXRhaWxzIiwibGlzdCIsImxlbmd0aCIsImNhdGNoIiwiZXJyIiwiY29uc29sZSJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api-node)/./pages/api/files.js\n");

/***/ }),

/***/ "(api-node)/./utils/db-cache.js":
/*!***************************!*\
  !*** ./utils/db-cache.js ***!
  \***************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   cacheFilesToDb: () => (/* binding */ cacheFilesToDb)\n/* harmony export */ });\n/* harmony import */ var _prisma__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./prisma */ \"(api-node)/./utils/prisma.js\");\n\n// This function is now centralized and removes the transaction wrapper\n// to reduce the likelihood of database deadlocks under high concurrency.\nasync function cacheFilesToDb(files) {\n    if (!files || files.length === 0) {\n        return;\n    }\n    // Execute upserts individually instead of in a single large transaction.\n    // This is less atomic but greatly reduces lock contention.\n    for (const file of files){\n        try {\n            const data = {\n                fid: file.fid,\n                pdir_fid: file.pdir_fid,\n                file_name: file.file_name,\n                size: BigInt(file.size || 0),\n                dir: file.dir === true,\n                updated_at: new Date(file.updated_at || 0),\n                created_at: new Date(file.created_at || 0)\n            };\n            await _prisma__WEBPACK_IMPORTED_MODULE_0__[\"default\"].file.upsert({\n                where: {\n                    fid: file.fid\n                },\n                update: data,\n                create: data\n            });\n        } catch (error) {\n            // Log individual errors but don't stop the whole process.\n            console.error(`Failed to upsert file ${file.fid}:`, error.message);\n        }\n    }\n    console.log(`Processed caching for ${files.length} files.`);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaS1ub2RlKS8uL3V0aWxzL2RiLWNhY2hlLmpzIiwibWFwcGluZ3MiOiI7Ozs7O0FBQThCO0FBRTlCLHVFQUF1RTtBQUN2RSx5RUFBeUU7QUFDbEUsZUFBZUMsZUFBZUMsS0FBSztJQUN0QyxJQUFJLENBQUNBLFNBQVNBLE1BQU1DLE1BQU0sS0FBSyxHQUFHO1FBQzlCO0lBQ0o7SUFFQSx5RUFBeUU7SUFDekUsMkRBQTJEO0lBQzNELEtBQUssTUFBTUMsUUFBUUYsTUFBTztRQUN0QixJQUFJO1lBQ0EsTUFBTUcsT0FBTztnQkFDVEMsS0FBS0YsS0FBS0UsR0FBRztnQkFDYkMsVUFBVUgsS0FBS0csUUFBUTtnQkFDdkJDLFdBQVdKLEtBQUtJLFNBQVM7Z0JBQ3pCQyxNQUFNQyxPQUFPTixLQUFLSyxJQUFJLElBQUk7Z0JBQzFCRSxLQUFLUCxLQUFLTyxHQUFHLEtBQUs7Z0JBQ2xCQyxZQUFZLElBQUlDLEtBQUtULEtBQUtRLFVBQVUsSUFBSTtnQkFDeENFLFlBQVksSUFBSUQsS0FBS1QsS0FBS1UsVUFBVSxJQUFJO1lBQzVDO1lBQ0EsTUFBTWQsb0RBQVcsQ0FBQ2UsTUFBTSxDQUFDO2dCQUNyQkMsT0FBTztvQkFBRVYsS0FBS0YsS0FBS0UsR0FBRztnQkFBQztnQkFDdkJXLFFBQVFaO2dCQUNSYSxRQUFRYjtZQUNaO1FBQ0osRUFBRSxPQUFPYyxPQUFPO1lBQ1osMERBQTBEO1lBQzFEQyxRQUFRRCxLQUFLLENBQUMsQ0FBQyxzQkFBc0IsRUFBRWYsS0FBS0UsR0FBRyxDQUFDLENBQUMsQ0FBQyxFQUFFYSxNQUFNRSxPQUFPO1FBQ3JFO0lBQ0o7SUFDQUQsUUFBUUUsR0FBRyxDQUFDLENBQUMsc0JBQXNCLEVBQUVwQixNQUFNQyxNQUFNLENBQUMsT0FBTyxDQUFDO0FBQzlEIiwic291cmNlcyI6WyJDOlxcVXNlcnNcXExvbmdcXERlc2t0b3BcXGZvbGRlclxcQ29kZVxccXVhcmtcXHV0aWxzXFxkYi1jYWNoZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgcHJpc21hIGZyb20gJy4vcHJpc21hJztcclxuXHJcbi8vIFRoaXMgZnVuY3Rpb24gaXMgbm93IGNlbnRyYWxpemVkIGFuZCByZW1vdmVzIHRoZSB0cmFuc2FjdGlvbiB3cmFwcGVyXHJcbi8vIHRvIHJlZHVjZSB0aGUgbGlrZWxpaG9vZCBvZiBkYXRhYmFzZSBkZWFkbG9ja3MgdW5kZXIgaGlnaCBjb25jdXJyZW5jeS5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGNhY2hlRmlsZXNUb0RiKGZpbGVzKSB7XHJcbiAgICBpZiAoIWZpbGVzIHx8IGZpbGVzLmxlbmd0aCA9PT0gMCkge1xyXG4gICAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICAvLyBFeGVjdXRlIHVwc2VydHMgaW5kaXZpZHVhbGx5IGluc3RlYWQgb2YgaW4gYSBzaW5nbGUgbGFyZ2UgdHJhbnNhY3Rpb24uXHJcbiAgICAvLyBUaGlzIGlzIGxlc3MgYXRvbWljIGJ1dCBncmVhdGx5IHJlZHVjZXMgbG9jayBjb250ZW50aW9uLlxyXG4gICAgZm9yIChjb25zdCBmaWxlIG9mIGZpbGVzKSB7XHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgY29uc3QgZGF0YSA9IHtcclxuICAgICAgICAgICAgICAgIGZpZDogZmlsZS5maWQsXHJcbiAgICAgICAgICAgICAgICBwZGlyX2ZpZDogZmlsZS5wZGlyX2ZpZCxcclxuICAgICAgICAgICAgICAgIGZpbGVfbmFtZTogZmlsZS5maWxlX25hbWUsXHJcbiAgICAgICAgICAgICAgICBzaXplOiBCaWdJbnQoZmlsZS5zaXplIHx8IDApLFxyXG4gICAgICAgICAgICAgICAgZGlyOiBmaWxlLmRpciA9PT0gdHJ1ZSxcclxuICAgICAgICAgICAgICAgIHVwZGF0ZWRfYXQ6IG5ldyBEYXRlKGZpbGUudXBkYXRlZF9hdCB8fCAwKSxcclxuICAgICAgICAgICAgICAgIGNyZWF0ZWRfYXQ6IG5ldyBEYXRlKGZpbGUuY3JlYXRlZF9hdCB8fCAwKSxcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgYXdhaXQgcHJpc21hLmZpbGUudXBzZXJ0KHtcclxuICAgICAgICAgICAgICAgIHdoZXJlOiB7IGZpZDogZmlsZS5maWQgfSxcclxuICAgICAgICAgICAgICAgIHVwZGF0ZTogZGF0YSxcclxuICAgICAgICAgICAgICAgIGNyZWF0ZTogZGF0YSxcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgLy8gTG9nIGluZGl2aWR1YWwgZXJyb3JzIGJ1dCBkb24ndCBzdG9wIHRoZSB3aG9sZSBwcm9jZXNzLlxyXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGBGYWlsZWQgdG8gdXBzZXJ0IGZpbGUgJHtmaWxlLmZpZH06YCwgZXJyb3IubWVzc2FnZSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgY29uc29sZS5sb2coYFByb2Nlc3NlZCBjYWNoaW5nIGZvciAke2ZpbGVzLmxlbmd0aH0gZmlsZXMuYCk7XHJcbn1cclxuIl0sIm5hbWVzIjpbInByaXNtYSIsImNhY2hlRmlsZXNUb0RiIiwiZmlsZXMiLCJsZW5ndGgiLCJmaWxlIiwiZGF0YSIsImZpZCIsInBkaXJfZmlkIiwiZmlsZV9uYW1lIiwic2l6ZSIsIkJpZ0ludCIsImRpciIsInVwZGF0ZWRfYXQiLCJEYXRlIiwiY3JlYXRlZF9hdCIsInVwc2VydCIsIndoZXJlIiwidXBkYXRlIiwiY3JlYXRlIiwiZXJyb3IiLCJjb25zb2xlIiwibWVzc2FnZSIsImxvZyJdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api-node)/./utils/db-cache.js\n");

/***/ }),

/***/ "(api-node)/./utils/prisma.js":
/*!*************************!*\
  !*** ./utils/prisma.js ***!
  \*************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _prisma_client__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @prisma/client */ \"@prisma/client\");\n/* harmony import */ var _prisma_client__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_prisma_client__WEBPACK_IMPORTED_MODULE_0__);\n\nlet prisma;\nif (false) {} else {\n    if (!global.prisma) {\n        global.prisma = new _prisma_client__WEBPACK_IMPORTED_MODULE_0__.PrismaClient();\n    }\n    prisma = global.prisma;\n}\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (prisma);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaS1ub2RlKS8uL3V0aWxzL3ByaXNtYS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBOEM7QUFFOUMsSUFBSUM7QUFFSixJQUFJQyxLQUFxQyxFQUFFLEVBRTFDLE1BQU07SUFDTCxJQUFJLENBQUNDLE9BQU9GLE1BQU0sRUFBRTtRQUNsQkUsT0FBT0YsTUFBTSxHQUFHLElBQUlELHdEQUFZQTtJQUNsQztJQUNBQyxTQUFTRSxPQUFPRixNQUFNO0FBQ3hCO0FBRUEsaUVBQWVBLE1BQU1BLEVBQUMiLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcTG9uZ1xcRGVza3RvcFxcZm9sZGVyXFxDb2RlXFxxdWFya1xcdXRpbHNcXHByaXNtYS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBQcmlzbWFDbGllbnQgfSBmcm9tICdAcHJpc21hL2NsaWVudCc7XHJcblxyXG5sZXQgcHJpc21hO1xyXG5cclxuaWYgKHByb2Nlc3MuZW52Lk5PREVfRU5WID09PSAncHJvZHVjdGlvbicpIHtcclxuICBwcmlzbWEgPSBuZXcgUHJpc21hQ2xpZW50KCk7XHJcbn0gZWxzZSB7XHJcbiAgaWYgKCFnbG9iYWwucHJpc21hKSB7XHJcbiAgICBnbG9iYWwucHJpc21hID0gbmV3IFByaXNtYUNsaWVudCgpO1xyXG4gIH1cclxuICBwcmlzbWEgPSBnbG9iYWwucHJpc21hO1xyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBwcmlzbWE7XHJcbiJdLCJuYW1lcyI6WyJQcmlzbWFDbGllbnQiLCJwcmlzbWEiLCJwcm9jZXNzIiwiZ2xvYmFsIl0sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api-node)/./utils/prisma.js\n");

/***/ }),

/***/ "(api-node)/./utils/quark-api.js":
/*!****************************!*\
  !*** ./utils/quark-api.js ***!
  \****************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getCachedQuarkFiles: () => (/* binding */ getCachedQuarkFiles)\n/* harmony export */ });\n/* harmony import */ var axios__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! axios */ \"axios\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([axios__WEBPACK_IMPORTED_MODULE_0__]);\naxios__WEBPACK_IMPORTED_MODULE_0__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n// Simple in-memory cache with a TTL (Time-To-Live)\nconst cache = new Map();\nconst CACHE_TTL = 5 * 60 * 1000; // 5 minutes\nasync function fetchQuarkFiles(pdir_fid, cookie, page = 1, sort = 'file_name:asc') {\n    const params = new URLSearchParams({\n        pr: 'ucpro',\n        fr: 'pc',\n        uc_param_str: '',\n        pdir_fid: pdir_fid,\n        _page: page,\n        _size: 50,\n        _fetch_total: 1,\n        _fetch_sub_dirs: 0,\n        _sort: `file_type:asc,${sort}`\n    });\n    const url = `https://drive-pc.quark.cn/1/clouddrive/file/sort?${params.toString()}`;\n    const response = await axios__WEBPACK_IMPORTED_MODULE_0__[\"default\"].get(url, {\n        headers: {\n            'Accept': 'application/json, text/plain, */*',\n            'Referer': 'https://pan.quark.cn/',\n            'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/120.0.0.0 Safari/537.36',\n            'Cookie': cookie\n        }\n    });\n    const contentType = response.headers['content-type'];\n    if (!contentType || !contentType.includes('application/json')) {\n        // This is likely an HTML error page from Quark (e.g., login page)\n        throw new Error('Invalid response from Quark API. The cookie might be expired or invalid.');\n    }\n    return response.data;\n}\nasync function getCachedQuarkFiles(pdir_fid, cookie, page, sort) {\n    const cacheKey = `${pdir_fid}-${page}-${sort}`;\n    const cachedItem = cache.get(cacheKey);\n    if (cachedItem && Date.now() - cachedItem.timestamp < CACHE_TTL) {\n        return JSON.parse(JSON.stringify(cachedItem.data));\n    }\n    const data = await fetchQuarkFiles(pdir_fid, cookie, page, sort);\n    if (data.status === 200) {\n        cache.set(cacheKey, {\n            timestamp: Date.now(),\n            data: JSON.parse(JSON.stringify(data))\n        });\n    }\n    // Clean up expired cache items occasionally\n    if (Math.random() < 0.1) {\n        for (const [key, value] of cache.entries()){\n            if (Date.now() - value.timestamp > CACHE_TTL) {\n                cache.delete(key);\n            }\n        }\n    }\n    return data;\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaS1ub2RlKS8uL3V0aWxzL3F1YXJrLWFwaS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUEwQjtBQUUxQixtREFBbUQ7QUFDbkQsTUFBTUMsUUFBUSxJQUFJQztBQUNsQixNQUFNQyxZQUFZLElBQUksS0FBSyxNQUFNLFlBQVk7QUFFN0MsZUFBZUMsZ0JBQWdCQyxRQUFRLEVBQUVDLE1BQU0sRUFBRUMsT0FBTyxDQUFDLEVBQUVDLE9BQU8sZUFBZTtJQUM3RSxNQUFNQyxTQUFTLElBQUlDLGdCQUFnQjtRQUMvQkMsSUFBSTtRQUNKQyxJQUFJO1FBQ0pDLGNBQWM7UUFDZFIsVUFBVUE7UUFDVlMsT0FBT1A7UUFDUFEsT0FBTztRQUNQQyxjQUFjO1FBQ2RDLGlCQUFpQjtRQUNqQkMsT0FBTyxDQUFDLGNBQWMsRUFBRVYsTUFBTTtJQUNsQztJQUNBLE1BQU1XLE1BQU0sQ0FBQyxpREFBaUQsRUFBRVYsT0FBT1csUUFBUSxJQUFJO0lBRW5GLE1BQU1DLFdBQVcsTUFBTXJCLGlEQUFTLENBQUNtQixLQUFLO1FBQ2xDSSxTQUFTO1lBQ0wsVUFBVTtZQUNWLFdBQVc7WUFDWCxjQUFjO1lBQ2QsVUFBVWpCO1FBQ2Q7SUFDSjtJQUVBLE1BQU1rQixjQUFjSCxTQUFTRSxPQUFPLENBQUMsZUFBZTtJQUNwRCxJQUFJLENBQUNDLGVBQWUsQ0FBQ0EsWUFBWUMsUUFBUSxDQUFDLHFCQUFxQjtRQUMzRCxrRUFBa0U7UUFDbEUsTUFBTSxJQUFJQyxNQUFNO0lBQ3BCO0lBRUEsT0FBT0wsU0FBU00sSUFBSTtBQUN4QjtBQUVPLGVBQWVDLG9CQUFvQnZCLFFBQVEsRUFBRUMsTUFBTSxFQUFFQyxJQUFJLEVBQUVDLElBQUk7SUFDbEUsTUFBTXFCLFdBQVcsR0FBR3hCLFNBQVMsQ0FBQyxFQUFFRSxLQUFLLENBQUMsRUFBRUMsTUFBTTtJQUM5QyxNQUFNc0IsYUFBYTdCLE1BQU1xQixHQUFHLENBQUNPO0lBRTdCLElBQUlDLGNBQWVDLEtBQUtDLEdBQUcsS0FBS0YsV0FBV0csU0FBUyxHQUFHOUIsV0FBWTtRQUMvRCxPQUFPK0IsS0FBS0MsS0FBSyxDQUFDRCxLQUFLRSxTQUFTLENBQUNOLFdBQVdILElBQUk7SUFDcEQ7SUFFQSxNQUFNQSxPQUFPLE1BQU12QixnQkFBZ0JDLFVBQVVDLFFBQVFDLE1BQU1DO0lBRTNELElBQUltQixLQUFLVSxNQUFNLEtBQUssS0FBSztRQUNyQnBDLE1BQU1xQyxHQUFHLENBQUNULFVBQVU7WUFDaEJJLFdBQVdGLEtBQUtDLEdBQUc7WUFDbkJMLE1BQU1PLEtBQUtDLEtBQUssQ0FBQ0QsS0FBS0UsU0FBUyxDQUFDVDtRQUNwQztJQUNKO0lBRUEsNENBQTRDO0lBQzVDLElBQUlZLEtBQUtDLE1BQU0sS0FBSyxLQUFLO1FBQ3JCLEtBQUssTUFBTSxDQUFDQyxLQUFLQyxNQUFNLElBQUl6QyxNQUFNMEMsT0FBTyxHQUFJO1lBQ3hDLElBQUlaLEtBQUtDLEdBQUcsS0FBS1UsTUFBTVQsU0FBUyxHQUFHOUIsV0FBVztnQkFDMUNGLE1BQU0yQyxNQUFNLENBQUNIO1lBQ2pCO1FBQ0o7SUFDSjtJQUVBLE9BQU9kO0FBQ1giLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcTG9uZ1xcRGVza3RvcFxcZm9sZGVyXFxDb2RlXFxxdWFya1xcdXRpbHNcXHF1YXJrLWFwaS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnO1xyXG5cclxuLy8gU2ltcGxlIGluLW1lbW9yeSBjYWNoZSB3aXRoIGEgVFRMIChUaW1lLVRvLUxpdmUpXHJcbmNvbnN0IGNhY2hlID0gbmV3IE1hcCgpO1xyXG5jb25zdCBDQUNIRV9UVEwgPSA1ICogNjAgKiAxMDAwOyAvLyA1IG1pbnV0ZXNcclxuXHJcbmFzeW5jIGZ1bmN0aW9uIGZldGNoUXVhcmtGaWxlcyhwZGlyX2ZpZCwgY29va2llLCBwYWdlID0gMSwgc29ydCA9ICdmaWxlX25hbWU6YXNjJykge1xyXG4gICAgY29uc3QgcGFyYW1zID0gbmV3IFVSTFNlYXJjaFBhcmFtcyh7XHJcbiAgICAgICAgcHI6ICd1Y3BybycsXHJcbiAgICAgICAgZnI6ICdwYycsXHJcbiAgICAgICAgdWNfcGFyYW1fc3RyOiAnJyxcclxuICAgICAgICBwZGlyX2ZpZDogcGRpcl9maWQsXHJcbiAgICAgICAgX3BhZ2U6IHBhZ2UsXHJcbiAgICAgICAgX3NpemU6IDUwLFxyXG4gICAgICAgIF9mZXRjaF90b3RhbDogMSxcclxuICAgICAgICBfZmV0Y2hfc3ViX2RpcnM6IDAsXHJcbiAgICAgICAgX3NvcnQ6IGBmaWxlX3R5cGU6YXNjLCR7c29ydH1gLFxyXG4gICAgfSk7XHJcbiAgICBjb25zdCB1cmwgPSBgaHR0cHM6Ly9kcml2ZS1wYy5xdWFyay5jbi8xL2Nsb3VkZHJpdmUvZmlsZS9zb3J0PyR7cGFyYW1zLnRvU3RyaW5nKCl9YDtcclxuXHJcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGF4aW9zLmdldCh1cmwsIHtcclxuICAgICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgICAgICdBY2NlcHQnOiAnYXBwbGljYXRpb24vanNvbiwgdGV4dC9wbGFpbiwgKi8qJyxcclxuICAgICAgICAgICAgJ1JlZmVyZXInOiAnaHR0cHM6Ly9wYW4ucXVhcmsuY24vJyxcclxuICAgICAgICAgICAgJ1VzZXItQWdlbnQnOiAnTW96aWxsYS81LjAgKFdpbmRvd3MgTlQgMTAuMDsgV2luNjQ7IHg2NCkgQXBwbGVXZWJLaXQvNTM3LjM2IChLSFRNTCwgbGlrZSBHZWNrbykgQ2hyb21lLzEyMC4wLjAuMCBTYWZhcmkvNTM3LjM2JyxcclxuICAgICAgICAgICAgJ0Nvb2tpZSc6IGNvb2tpZSxcclxuICAgICAgICB9LFxyXG4gICAgfSk7XHJcblxyXG4gICAgY29uc3QgY29udGVudFR5cGUgPSByZXNwb25zZS5oZWFkZXJzWydjb250ZW50LXR5cGUnXTtcclxuICAgIGlmICghY29udGVudFR5cGUgfHwgIWNvbnRlbnRUeXBlLmluY2x1ZGVzKCdhcHBsaWNhdGlvbi9qc29uJykpIHtcclxuICAgICAgICAvLyBUaGlzIGlzIGxpa2VseSBhbiBIVE1MIGVycm9yIHBhZ2UgZnJvbSBRdWFyayAoZS5nLiwgbG9naW4gcGFnZSlcclxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgcmVzcG9uc2UgZnJvbSBRdWFyayBBUEkuIFRoZSBjb29raWUgbWlnaHQgYmUgZXhwaXJlZCBvciBpbnZhbGlkLicpO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiByZXNwb25zZS5kYXRhO1xyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0Q2FjaGVkUXVhcmtGaWxlcyhwZGlyX2ZpZCwgY29va2llLCBwYWdlLCBzb3J0KSB7XHJcbiAgICBjb25zdCBjYWNoZUtleSA9IGAke3BkaXJfZmlkfS0ke3BhZ2V9LSR7c29ydH1gO1xyXG4gICAgY29uc3QgY2FjaGVkSXRlbSA9IGNhY2hlLmdldChjYWNoZUtleSk7XHJcblxyXG4gICAgaWYgKGNhY2hlZEl0ZW0gJiYgKERhdGUubm93KCkgLSBjYWNoZWRJdGVtLnRpbWVzdGFtcCA8IENBQ0hFX1RUTCkpIHtcclxuICAgICAgICByZXR1cm4gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShjYWNoZWRJdGVtLmRhdGEpKTtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBkYXRhID0gYXdhaXQgZmV0Y2hRdWFya0ZpbGVzKHBkaXJfZmlkLCBjb29raWUsIHBhZ2UsIHNvcnQpO1xyXG4gICAgXHJcbiAgICBpZiAoZGF0YS5zdGF0dXMgPT09IDIwMCkge1xyXG4gICAgICAgIGNhY2hlLnNldChjYWNoZUtleSwge1xyXG4gICAgICAgICAgICB0aW1lc3RhbXA6IERhdGUubm93KCksXHJcbiAgICAgICAgICAgIGRhdGE6IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoZGF0YSkpLFxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICAvLyBDbGVhbiB1cCBleHBpcmVkIGNhY2hlIGl0ZW1zIG9jY2FzaW9uYWxseVxyXG4gICAgaWYgKE1hdGgucmFuZG9tKCkgPCAwLjEpIHtcclxuICAgICAgICBmb3IgKGNvbnN0IFtrZXksIHZhbHVlXSBvZiBjYWNoZS5lbnRyaWVzKCkpIHtcclxuICAgICAgICAgICAgaWYgKERhdGUubm93KCkgLSB2YWx1ZS50aW1lc3RhbXAgPiBDQUNIRV9UVEwpIHtcclxuICAgICAgICAgICAgICAgIGNhY2hlLmRlbGV0ZShrZXkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBkYXRhO1xyXG59XHJcbiJdLCJuYW1lcyI6WyJheGlvcyIsImNhY2hlIiwiTWFwIiwiQ0FDSEVfVFRMIiwiZmV0Y2hRdWFya0ZpbGVzIiwicGRpcl9maWQiLCJjb29raWUiLCJwYWdlIiwic29ydCIsInBhcmFtcyIsIlVSTFNlYXJjaFBhcmFtcyIsInByIiwiZnIiLCJ1Y19wYXJhbV9zdHIiLCJfcGFnZSIsIl9zaXplIiwiX2ZldGNoX3RvdGFsIiwiX2ZldGNoX3N1Yl9kaXJzIiwiX3NvcnQiLCJ1cmwiLCJ0b1N0cmluZyIsInJlc3BvbnNlIiwiZ2V0IiwiaGVhZGVycyIsImNvbnRlbnRUeXBlIiwiaW5jbHVkZXMiLCJFcnJvciIsImRhdGEiLCJnZXRDYWNoZWRRdWFya0ZpbGVzIiwiY2FjaGVLZXkiLCJjYWNoZWRJdGVtIiwiRGF0ZSIsIm5vdyIsInRpbWVzdGFtcCIsIkpTT04iLCJwYXJzZSIsInN0cmluZ2lmeSIsInN0YXR1cyIsInNldCIsIk1hdGgiLCJyYW5kb20iLCJrZXkiLCJ2YWx1ZSIsImVudHJpZXMiLCJkZWxldGUiXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api-node)/./utils/quark-api.js\n");

/***/ }),

/***/ "@prisma/client":
/*!*********************************!*\
  !*** external "@prisma/client" ***!
  \*********************************/
/***/ ((module) => {

module.exports = require("@prisma/client");

/***/ }),

/***/ "axios":
/*!************************!*\
  !*** external "axios" ***!
  \************************/
/***/ ((module) => {

module.exports = import("axios");;

/***/ }),

/***/ "next/dist/compiled/next-server/pages-api.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/pages-api.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/pages-api.runtime.dev.js");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(api-node)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Ffiles&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Cfiles.js&middlewareConfigBase64=e30%3D!")));
module.exports = __webpack_exports__;

})();